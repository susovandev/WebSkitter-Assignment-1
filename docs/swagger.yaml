openapi: 3.0.0

info:
  title: Product Management CRUD REST API
  version: 1.0.0
  description: |
    This API provides full CRUD (Create, Read, Update, Delete) functionality for managing product data.
    
    ## Features
    - Create new products  
    - Retrieve all products or a single product  
    - Update existing product details  
    - Delete products  
    - Handles error responses with proper status codes  
    - Supports JSON request/response format  
    
    ## Technology Stack
    - Node.js  
    - Express.js  
    - MongoDB  
    - Mongoose  
    - YAML-based Swagger documentation  

  
  contact:
    name: Github Link
    url: "https://github.com/susovandev/WebSkitter-Assignment-1"


servers:
  - url: http://localhost:5000
    description: Local development server
tags:
  - name: Products
    description: API endpoints for managing products
    
paths:
  /api/products:
    get:
      summary: Retrieve all products
      responses:
        '200':
          description: Successful response with a list of products
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: 'Products retrieved successfully'
                  status:
                    type: boolean
                    example: true
                  data:
                    type: array
                    items:
                      type: object
                      properties:
                        _id:
                          type: string
                          format: objectId
                          example: '64b7f8c2e4b0c5a1d2f3e4b5'
                        name:
                          type: string
                          example: 'Sample Product'
                        description:
                          type: string
                          example: 'This is a sample product description.'
                        category:
                          type: string
                          example: 'Electronics'
                        price:
                          type: number
                          example: 99.99
                        inStock:
                          type: boolean
                          example: true
                        createdAt:
                          type: string
                          format: date-time
                          example: '2024-06-01T12:00:00Z'
                        updatedAt:
                          type: string
                          format: date-time
                          example: '2024-06-01T12:00:00Z'
        '404':
          description: No products found
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                    example: 404
                  status:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Products not found'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                    example: 500
                  status:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Internal server error'
    post:
      summary: Create a new product
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: 'New Product'
                description:
                  type: string
                  example: 'Description of the new product'
                category:
                  type: string
                  example: 'Electronics'
                price:
                  type: number
                  example: 150
                inStock:
                  type: boolean
                  example: true
      responses:
        '201':
          description: Product created successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: 'Product created successfully'
                  status:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      _id:
                        type: string
                        format: objectId
                        example: '64b7f8c2e4b0c5a1d2f3e4b5'
                      name:
                        type: string
                        example: 'New Product'
                      description:
                        type: string
                        example: 'Description of the new product'
                      category:
                        type: string
                        example: 'Electronics'
                      price:
                        type: number
                        example: 150
                      inStock:
                        type: boolean
                        example: true
                      createdAt:
                        type: string
                        format: date-time
                        example: '2024-06-01T12:00:00Z'
                      updatedAt:
                        type: string
                        format: date-time
                        example: '2024-06-01T12:00:00Z'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                    example: 400
                  status:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Invalid product data'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                    example: 500
                  status:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Internal server error'
  /api/products/{productId}:
    get:
      summary: Get a product by ID
      parameters:
        - name: productId
          in: path
          required: true
          schema:
            type: string
            format: objectId
          example: '64b7f8c2e4b0c5a1d2f3e4b5'
      responses:
        '200':
          description: Product retrieved successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: 'Product retrieved successfully'
                  status:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      _id:
                        type: string
                        format: objectId
                        example: '64b7f8c2e4b0c5a1d2f3e4b5'
                      name:
                        type: string
                        example: 'New Product'
                      description:
                        type: string
                        example: 'Description of the new product'
                      category:
                        type: string
                        example: 'Electronics'
                      price:
                        type: number
                        example: 150
                      inStock:
                        type: boolean
                        example: true
                      createdAt:
                        type: string
                        format: date-time
                        example: '2024-06-01T12:00:00Z'
                      updatedAt:
                        type: string
                        format: date-time
                        example: '2024-06-01T12:00:00Z'
        '404':
          description: Product not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                    example: 404
                  status:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Product not found'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                    example: 500
                  status:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Internal server error'
    put:
      summary: Update a product by ID
      parameters:
        - name: productId
          in: path
          required: true
          schema:
            type: string
            format: objectId
          example: '64b7f8c2e4b0c5a1d2f3e4b5'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  example: 'Updated Product'
                description:
                  type: string
                  example: 'Updated description of the product'
                category:
                  type: string
                  example: 'Electronics'
                price:
                  type: number
                  example: 200
                inStock:
                  type: boolean
                  example: false
      responses:
        '200':
          description: Product updated successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: 'Product updated successfully'
                  status:
                    type: boolean
                    example: true
                  data:
                    type: object
                    properties:
                      _id:
                        type: string
                        format: objectId
                        example: '64b7f8c2e4b0c5a1d2f3e4b5'
                      name:
                        type: string
                        example: 'Updated Product'
                      description:
                        type: string
                        example: 'Updated description of the product'
                      category:
                        type: string
                        example: 'Electronics'
                      price:
                        type: number
                        example: 200
                      inStock:
                        type: boolean
                        example: false
                      createdAt:
                        type: string
                        format: date-time
                        example: '2024-06-01T12:00:00Z'
                      updatedAt:
                        type: string
                        format: date-time
                        example: '2024-06-02T12:00:00Z'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                    example: 400
                  status:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Invalid product data'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                    example: 500
                  status:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Internal server error'
    delete:
      summary: Delete a product by ID
      parameters:
        - name: productId
          in: path
          required: true
          schema:
            type: string
            format: objectId
          example: '64b7f8c2e4b0c5a1d2f3e4b5'
      responses:
        '200':
          description: Product deleted successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: 'Product deleted successfully'
                  status:
                    type: boolean
                    example: true
                  data:
                    type: null
                    example: null
        '404':
          description: Product not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                    example: 404
                  status:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Product not found'
        '500':
          description: Internal server error
          content:
            application/json:
              schema:
                type: object
                properties:
                  statusCode:
                    type: integer
                    example: 500
                  status:
                    type: boolean
                    example: false
                  message:
                    type: string
                    example: 'Internal server error'
